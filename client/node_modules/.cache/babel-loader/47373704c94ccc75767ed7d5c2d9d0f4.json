{"ast":null,"code":"import { ADD_PRODUCT, DECREMENT_PRODUCT, INCREMENT, REMOVE_ITEM } from \"./case\";\nconst defaultState = {\n  products: [] // count: 1,\n\n}; // Редюсер для добавления товара в корзину\n\nexport const inCartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_PRODUCT:\n      //     const item = state.products.find(n => n.id === action.payload.id);\n      //     return {\n      //         ...state,\n      //         products: item\n      //             ? state.products.map(n => n === item ? {\n      //                 ...n,\n      //                 count: n.count + 1,\n      //             } : n)\n      //             : [...state.products, {...action.payload, count: 1}]\n      //     };\n      // const item = state.products.find(n => n.id === action.payload.id);\n      // return {\n      //     ...state,\n      //     products: item\n      //         ? state.products.map(n => n === item ? {\n      //             ...n,\n      //             count: n.count + 1,\n      //         } : n)\n      //         : [...state.products, action.payload]\n      // };\n      return { ...state,\n        products: [...state.products, action.payload]\n      };\n    // case DECREMENT_PRODUCT:\n    //     return {\n    //         ...state, products: state.products.map(n => n.id === action.payload.id && {\n    //             ...n, count: n.count - 1\n    //         })\n    //     }\n    // const itemIndex = state.products.findIndex(item => item.id === action.payload.id);\n    // return {\n    //     ...state,\n    //     products: [...state.products, action.payload]\n    // }\n\n    case REMOVE_ITEM:\n      return { ...state,\n        products: state.products.filter(product => product.id !== action.payload.id)\n      };\n\n    default:\n      return state;\n  }\n\n  ;\n}; // Чтение\n\nconst stateItem = {\n  items: [{\n    id: 1,\n    img: \"./source/popular/game_img1.jpg\",\n    price: 1290,\n    old_price: \"1980 ₽\",\n    sale: -31,\n    description: \"Взрывные котята. Безумие, апокалипсис и котики\"\n  }, {\n    id: 2,\n    img: \"./source/popular/game_img2.jpg\",\n    price: 990,\n    old_price: 0,\n    sale: 0,\n    description: \"Манчкин 2 Дикий Топор. Ещё разрушительнее, ещё веселее!\"\n  }, {\n    id: 3,\n    img: \"./source/popular/game_img3.jpg\",\n    price: 1440,\n    old_price: \"1980 ₽\",\n    sale: -24,\n    description: \"Монополия Рик и Морти. Завяжи Мультивселеннуюв узел\"\n  }, {\n    id: 4,\n    img: \"./source/popular/game_img4.jpg\",\n    price: 1090,\n    old_price: 0,\n    sale: 0,\n    description: \"Зомби в доме. Дом на холме для детей\"\n  }]\n};\nexport const getItem = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stateItem;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    default:\n      return state;\n  }\n}; // Функция для добавления в редюсер\n\nexport const addInCart = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});\nexport const removeItem = payload => ({\n  type: REMOVE_ITEM,\n  payload\n});\nexport const decrement = payload => ({\n  type: DECREMENT_PRODUCT,\n  payload\n});","map":{"version":3,"names":["ADD_PRODUCT","DECREMENT_PRODUCT","INCREMENT","REMOVE_ITEM","defaultState","products","inCartReducer","state","action","type","payload","filter","product","id","stateItem","items","img","price","old_price","sale","description","getItem","addInCart","removeItem","decrement"],"sources":["C:/Work/React/gtable/client/src/store/inCart.js"],"sourcesContent":["import {ADD_PRODUCT, DECREMENT_PRODUCT, INCREMENT, REMOVE_ITEM} from \"./case\";\r\n\r\nconst defaultState = {\r\n    products: [],\r\n    // count: 1,\r\n}\r\n// Редюсер для добавления товара в корзину\r\nexport const inCartReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_PRODUCT:\r\n        //     const item = state.products.find(n => n.id === action.payload.id);\r\n        //     return {\r\n        //         ...state,\r\n        //         products: item\r\n        //             ? state.products.map(n => n === item ? {\r\n        //                 ...n,\r\n        //                 count: n.count + 1,\r\n        //             } : n)\r\n        //             : [...state.products, {...action.payload, count: 1}]\r\n        //     };\r\n\r\n            // const item = state.products.find(n => n.id === action.payload.id);\r\n            // return {\r\n            //     ...state,\r\n            //     products: item\r\n            //         ? state.products.map(n => n === item ? {\r\n            //             ...n,\r\n            //             count: n.count + 1,\r\n            //         } : n)\r\n            //         : [...state.products, action.payload]\r\n            // };\r\n\r\n            return {\r\n                ...state,\r\n                products: [...state.products,\r\n                    action.payload\r\n                ]\r\n            }\r\n\r\n        // case DECREMENT_PRODUCT:\r\n        //     return {\r\n        //         ...state, products: state.products.map(n => n.id === action.payload.id && {\r\n        //             ...n, count: n.count - 1\r\n        //         })\r\n        //     }\r\n\r\n\r\n        // const itemIndex = state.products.findIndex(item => item.id === action.payload.id);\r\n        // return {\r\n        //     ...state,\r\n        //     products: [...state.products, action.payload]\r\n        // }\r\n        case\r\n        REMOVE_ITEM:\r\n            return {\r\n                ...state, products: state.products.filter(product => product.id !== action.payload.id)\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n// Чтение\r\nconst stateItem = {\r\n    items: [\r\n        {\r\n            id: 1,\r\n            img: \"./source/popular/game_img1.jpg\",\r\n            price: 1290,\r\n            old_price: \"1980 ₽\",\r\n            sale: -31,\r\n            description: \"Взрывные котята. Безумие, апокалипсис и котики\",\r\n        },\r\n        {\r\n            id: 2,\r\n            img: \"./source/popular/game_img2.jpg\",\r\n            price: 990,\r\n            old_price: 0,\r\n            sale: 0,\r\n            description: \"Манчкин 2 Дикий Топор. Ещё разрушительнее, ещё веселее!\",\r\n        },\r\n        {\r\n            id: 3,\r\n            img: \"./source/popular/game_img3.jpg\",\r\n            price: 1440,\r\n            old_price: \"1980 ₽\",\r\n            sale: -24,\r\n            description: \"Монополия Рик и Морти. Завяжи Мультивселеннуюв узел\",\r\n        },\r\n        {\r\n            id: 4,\r\n            img: \"./source/popular/game_img4.jpg\",\r\n            price: 1090,\r\n            old_price: 0,\r\n            sale: 0,\r\n            description: \"Зомби в доме. Дом на холме для детей\",\r\n        }\r\n    ]\r\n}\r\n\r\nexport const getItem = (state = stateItem, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\n// Функция для добавления в редюсер\r\nexport const addInCart = (payload) => ({type: ADD_PRODUCT, payload});\r\nexport const removeItem = (payload) => ({type: REMOVE_ITEM, payload});\r\nexport const decrement = (payload) => ({type: DECREMENT_PRODUCT, payload})"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,iBAArB,EAAwCC,SAAxC,EAAmDC,WAAnD,QAAqE,QAArE;AAEA,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EADO,CAEjB;;AAFiB,CAArB,C,CAIA;;AACA,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;;EAC3D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKT,WAAL;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEI;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA,OAAO,EACH,GAAGO,KADA;QAEHF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAV,EACNG,MAAM,CAACE,OADD;MAFP,CAAP;IAOJ;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;;IACA,KACAP,WADA;MAEI,OAAO,EACH,GAAGI,KADA;QACOF,QAAQ,EAAEE,KAAK,CAACF,QAAN,CAAeM,MAAf,CAAsBC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACE,OAAP,CAAeG,EAA/D;MADjB,CAAP;;IAGJ;MACI,OAAON,KAAP;EAlDR;;EAmDC;AACJ,CArDM,C,CAuDP;;AACA,MAAMO,SAAS,GAAG;EACdC,KAAK,EAAE,CACH;IACIF,EAAE,EAAE,CADR;IAEIG,GAAG,EAAE,gCAFT;IAGIC,KAAK,EAAE,IAHX;IAIIC,SAAS,EAAE,QAJf;IAKIC,IAAI,EAAE,CAAC,EALX;IAMIC,WAAW,EAAE;EANjB,CADG,EASH;IACIP,EAAE,EAAE,CADR;IAEIG,GAAG,EAAE,gCAFT;IAGIC,KAAK,EAAE,GAHX;IAIIC,SAAS,EAAE,CAJf;IAKIC,IAAI,EAAE,CALV;IAMIC,WAAW,EAAE;EANjB,CATG,EAiBH;IACIP,EAAE,EAAE,CADR;IAEIG,GAAG,EAAE,gCAFT;IAGIC,KAAK,EAAE,IAHX;IAIIC,SAAS,EAAE,QAJf;IAKIC,IAAI,EAAE,CAAC,EALX;IAMIC,WAAW,EAAE;EANjB,CAjBG,EAyBH;IACIP,EAAE,EAAE,CADR;IAEIG,GAAG,EAAE,gCAFT;IAGIC,KAAK,EAAE,IAHX;IAIIC,SAAS,EAAE,CAJf;IAKIC,IAAI,EAAE,CALV;IAMIC,WAAW,EAAE;EANjB,CAzBG;AADO,CAAlB;AAqCA,OAAO,MAAMC,OAAO,GAAG,YAA+B;EAAA,IAA9Bd,KAA8B,uEAAtBO,SAAsB;EAAA,IAAXN,MAAW;;EAClD,QAAQA,MAAM,CAACC,IAAf;IACI;MACI,OAAOF,KAAP;EAFR;AAIH,CALM,C,CAOP;;AACA,OAAO,MAAMe,SAAS,GAAIZ,OAAD,KAAc;EAACD,IAAI,EAAET,WAAP;EAAoBU;AAApB,CAAd,CAAlB;AACP,OAAO,MAAMa,UAAU,GAAIb,OAAD,KAAc;EAACD,IAAI,EAAEN,WAAP;EAAoBO;AAApB,CAAd,CAAnB;AACP,OAAO,MAAMc,SAAS,GAAId,OAAD,KAAc;EAACD,IAAI,EAAER,iBAAP;EAA0BS;AAA1B,CAAd,CAAlB"},"metadata":{},"sourceType":"module"}