{"ast":null,"code":"var _jsxFileName = \"C:\\\\Work\\\\React\\\\gtable\\\\client\\\\src\\\\components\\\\user\\\\card\\\\Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport classes from \"./Card.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = _ref => {\n  _s();\n\n  let {\n    props,\n    product\n  } = _ref;\n  const navigate = useNavigate();\n  const IMG = `http://localhost:5000/${props.img}`;\n  const [active, setActive] = useState(false);\n  const cart = useSelector(state => state.inCart.products);\n\n  const addProduct = e => {\n    product({ ...props\n    });\n    e.stopPropagation(); // setActive(true);\n\n    if (cart.length > 0) {\n      let array = cart.filter(i => i.id !== props.id);\n\n      if (array) {\n        setActive(true);\n      }\n    } else {\n      setActive(false);\n    }\n\n    if (active) {\n      return navigate(\"/cart\");\n    }\n  };\n\n  const btnClass = [classes.btn_cart];\n\n  if (active) {\n    btnClass.push(classes.active);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.card_item,\n    onClick: () => navigate(`/products/${props.id}`),\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: IMG,\n      alt: \"Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), props.sale !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.sale,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.number_sale,\n        children: [\"-\", props.sale, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card_text_container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"price_text\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.price_card,\n          children: [props.price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }, this), props.old_price !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.sale_card,\n          children: [props.old_price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.card_description,\n        children: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bottom_nav,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: btnClass.join(\" \"),\n        onClick: addProduct,\n        children: active ? \"В корзине\" : \"В корзину\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"20\",\n        height: \"20\",\n        viewBox: \"0 0 20 20\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M14.584 2.5C12.2923 2.5 11.0382 3.6975 10.0007 4.75C8.96315 3.6975 7.70898 2.5 5.41732 2.5C2.36148 2.5 0.833984 5.05917 0.833984 7.75C0.833984 12.2808 6.18148 16 10.0007 17.5C13.8198 16 19.1673 12.2808 19.1673 7.75C19.1673 5.05917 17.6398 2.5 14.584 2.5Z\",\n          stroke: \"#7D26DC\",\n          strokeWidth: \"1.5\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Card, \"XvxhNE+ygpSWnzS/IF5K3Xcck2E=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useEffect","useState","classes","useNavigate","useSelector","Card","props","product","navigate","IMG","img","active","setActive","cart","state","inCart","products","addProduct","e","stopPropagation","length","array","filter","i","id","btnClass","btn_cart","push","card_item","sale","number_sale","card_text_container","price_card","price","old_price","sale_card","card_description","name","bottom_nav","join"],"sources":["C:/Work/React/gtable/client/src/components/user/card/Card.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport classes from \"./Card.module.css\"\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst Card = ({props, product}) => {\r\n    const navigate = useNavigate();\r\n    const IMG = `http://localhost:5000/${props.img}`;\r\n    const [active, setActive] = useState(false);\r\n\r\n    const cart = useSelector(state => state.inCart.products)\r\n\r\n    const addProduct = (e) => {\r\n        product(\r\n            {\r\n                ...props\r\n            });\r\n        e.stopPropagation();\r\n        // setActive(true);\r\n        if (cart.length > 0) {\r\n            let array = cart.filter(i => i.id !== props.id);\r\n            if (array) {\r\n                setActive(true)\r\n            }\r\n        } else {\r\n            setActive(false)\r\n        }\r\n\r\n        if (active) {\r\n            return navigate(\"/cart\")\r\n        }\r\n    };\r\n\r\n    const btnClass = [classes.btn_cart];\r\n    if (active) {\r\n        btnClass.push(classes.active)\r\n    }\r\n    ;\r\n    \r\n\r\n\r\n    return (\r\n        <div className={classes.card_item} onClick={() => navigate(`/products/${props.id}`)}>\r\n            <img\r\n                src={IMG}\r\n                alt=\"Image\"\r\n            />\r\n            {props.sale !== 0 &&\r\n                <div className={classes.sale}><span className={classes.number_sale}>-{props.sale}%</span></div>}\r\n            <div className={classes.card_text_container}>\r\n                <div className=\"price_text\">\r\n                  <span className={classes.price_card}>{props.price} ₽</span\r\n                  >{props.old_price !== 0 && <span className={classes.sale_card}>{props.old_price} ₽</span>}\r\n                </div>\r\n                <div className={classes.card_description}>\r\n                    {props.name}\r\n                </div>\r\n            </div>\r\n            <div className={classes.bottom_nav}>\r\n                <button className={btnClass.join(\" \")}\r\n                        onClick={addProduct}>{active ? \"В корзине\" : \"В корзину\"}</button>\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M14.584 2.5C12.2923 2.5 11.0382 3.6975 10.0007 4.75C8.96315 3.6975 7.70898 2.5 5.41732 2.5C2.36148 2.5 0.833984 5.05917 0.833984 7.75C0.833984 12.2808 6.18148 16 10.0007 17.5C13.8198 16 19.1673 12.2808 19.1673 7.75C19.1673 5.05917 17.6398 2.5 14.584 2.5Z\"\r\n                          stroke=\"#7D26DC\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAAQC,WAAR,QAA0B,aAA1B;;;AAEA,MAAMC,IAAI,GAAG,QAAsB;EAAA;;EAAA,IAArB;IAACC,KAAD;IAAQC;EAAR,CAAqB;EAC/B,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EACA,MAAMM,GAAG,GAAI,yBAAwBH,KAAK,CAACI,GAAI,EAA/C;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,KAAD,CAApC;EAEA,MAAMY,IAAI,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaC,QAAvB,CAAxB;;EAEA,MAAMC,UAAU,GAAIC,CAAD,IAAO;IACtBX,OAAO,CACH,EACI,GAAGD;IADP,CADG,CAAP;IAIAY,CAAC,CAACC,eAAF,GALsB,CAMtB;;IACA,IAAIN,IAAI,CAACO,MAAL,GAAc,CAAlB,EAAqB;MACjB,IAAIC,KAAK,GAAGR,IAAI,CAACS,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASlB,KAAK,CAACkB,EAAhC,CAAZ;;MACA,IAAIH,KAAJ,EAAW;QACPT,SAAS,CAAC,IAAD,CAAT;MACH;IACJ,CALD,MAKO;MACHA,SAAS,CAAC,KAAD,CAAT;IACH;;IAED,IAAID,MAAJ,EAAY;MACR,OAAOH,QAAQ,CAAC,OAAD,CAAf;IACH;EACJ,CAnBD;;EAqBA,MAAMiB,QAAQ,GAAG,CAACvB,OAAO,CAACwB,QAAT,CAAjB;;EACA,IAAIf,MAAJ,EAAY;IACRc,QAAQ,CAACE,IAAT,CAAczB,OAAO,CAACS,MAAtB;EACH;;EACD;EAIA,oBACI;IAAK,SAAS,EAAET,OAAO,CAAC0B,SAAxB;IAAmC,OAAO,EAAE,MAAMpB,QAAQ,CAAE,aAAYF,KAAK,CAACkB,EAAG,EAAvB,CAA1D;IAAA,wBACI;MACI,GAAG,EAAEf,GADT;MAEI,GAAG,EAAC;IAFR;MAAA;MAAA;MAAA;IAAA,QADJ,EAKKH,KAAK,CAACuB,IAAN,KAAe,CAAf,iBACG;MAAK,SAAS,EAAE3B,OAAO,CAAC2B,IAAxB;MAAA,uBAA8B;QAAM,SAAS,EAAE3B,OAAO,CAAC4B,WAAzB;QAAA,gBAAwCxB,KAAK,CAACuB,IAA9C;MAAA;QAAA;QAAA;QAAA;MAAA;IAA9B;MAAA;MAAA;MAAA;IAAA,QANR,eAOI;MAAK,SAAS,EAAE3B,OAAO,CAAC6B,mBAAxB;MAAA,wBACI;QAAK,SAAS,EAAC,YAAf;QAAA,wBACE;UAAM,SAAS,EAAE7B,OAAO,CAAC8B,UAAzB;UAAA,WAAsC1B,KAAK,CAAC2B,KAA5C;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,EAEI3B,KAAK,CAAC4B,SAAN,KAAoB,CAApB,iBAAyB;UAAM,SAAS,EAAEhC,OAAO,CAACiC,SAAzB;UAAA,WAAqC7B,KAAK,CAAC4B,SAA3C;QAAA;UAAA;UAAA;UAAA;QAAA,QAF7B;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAK,SAAS,EAAEhC,OAAO,CAACkC,gBAAxB;QAAA,UACK9B,KAAK,CAAC+B;MADX;QAAA;QAAA;QAAA;MAAA,QALJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ,eAgBI;MAAK,SAAS,EAAEnC,OAAO,CAACoC,UAAxB;MAAA,wBACI;QAAQ,SAAS,EAAEb,QAAQ,CAACc,IAAT,CAAc,GAAd,CAAnB;QACQ,OAAO,EAAEtB,UADjB;QAAA,UAC8BN,MAAM,GAAG,WAAH,GAAiB;MADrD;QAAA;QAAA;QAAA;MAAA,QADJ,eAGI;QAAK,KAAK,EAAC,IAAX;QAAgB,MAAM,EAAC,IAAvB;QAA4B,OAAO,EAAC,WAApC;QAAgD,IAAI,EAAC,MAArD;QAA4D,KAAK,EAAC,4BAAlE;QAAA,uBACI;UAAM,QAAQ,EAAC,SAAf;UAAyB,QAAQ,EAAC,SAAlC;UACM,CAAC,EAAC,gQADR;UAEM,MAAM,EAAC,SAFb;UAEuB,WAAW,EAAC,KAFnC;UAEyC,aAAa,EAAC,OAFvD;UAE+D,cAAc,EAAC;QAF9E;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA4BH,CAhED;;GAAMN,I;UACeF,W,EAIJC,W;;;KALXC,I;AAkEN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}