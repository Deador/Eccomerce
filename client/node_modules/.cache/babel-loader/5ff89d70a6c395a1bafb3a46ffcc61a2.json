{"ast":null,"code":"import { ADD_PRODUCT } from \"./case\";\nconst defaultState = {\n  products: []\n}; // Редюсер для добавления товара в корзину\n\nexport const inCartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_PRODUCT:\n      const item = state.products.find(n => n.id === action.payload.id);\n      return { ...state,\n        products: item ? state.products.map(n => n === item ? { ...n,\n          count: n.count + 1,\n          price: n.price * n.count\n        } : n) : [...state.products, { ...action.payload,\n          count: 1\n        }]\n      };\n\n    default:\n      return state;\n  }\n\n  ;\n}; // Чтение\n\nconst stateItem = {\n  items: [{\n    id: 1,\n    img: \"./source/popular/game_img1.jpg\",\n    price: 1290,\n    old_price: \"1980 ₽\",\n    sale: -31,\n    description: \"Взрывные котята. Безумие, апокалипсис и котики\"\n  }, {\n    id: 2,\n    img: \"./source/popular/game_img2.jpg\",\n    price: 990,\n    old_price: 0,\n    sale: 0,\n    description: \"Манчкин 2 Дикий Топор. Ещё разрушительнее, ещё веселее!\"\n  }, {\n    id: 3,\n    img: \"./source/popular/game_img3.jpg\",\n    price: 1440,\n    old_price: \"1980 ₽\",\n    sale: -24,\n    description: \"Монополия Рик и Морти. Завяжи Мультивселеннуюв узел\"\n  }, {\n    id: 4,\n    img: \"./source/popular/game_img4.jpg\",\n    price: 1090,\n    old_price: 0,\n    sale: 0,\n    description: \"Зомби в доме. Дом на холме для детей\"\n  }]\n};\nexport const getItem = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stateItem;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    default:\n      return state;\n  }\n}; // Функция для добавления в редюсер\n\nexport const addInCart = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});","map":{"version":3,"names":["ADD_PRODUCT","defaultState","products","inCartReducer","state","action","type","item","find","n","id","payload","map","count","price","stateItem","items","img","old_price","sale","description","getItem","addInCart"],"sources":["C:/Work/React/gtable/src/store/inCart.js"],"sourcesContent":["import {ADD_PRODUCT} from \"./case\";\r\n\r\nconst defaultState = {\r\n    products: []\r\n}\r\n// Редюсер для добавления товара в корзину\r\nexport const inCartReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_PRODUCT:\r\n            const item = state.products.find(n => n.id === action.payload.id);\r\n            return {\r\n                ...state,\r\n                products: item\r\n                    ? state.products.map(n => n === item ? {...n, count: n.count + 1, price: n.price * n.count} : n)\r\n                    : [...state.products, {...action.payload, count: 1}]\r\n            };\r\n        default:\r\n            return state\r\n    };\r\n};\r\n\r\n// Чтение\r\nconst stateItem = {\r\n    items: [\r\n        {\r\n            id: 1,\r\n            img: \"./source/popular/game_img1.jpg\",\r\n            price: 1290,\r\n            old_price: \"1980 ₽\",\r\n            sale: -31,\r\n            description: \"Взрывные котята. Безумие, апокалипсис и котики\"\r\n        },\r\n        {\r\n            id: 2,\r\n            img: \"./source/popular/game_img2.jpg\",\r\n            price: 990,\r\n            old_price: 0,\r\n            sale: 0,\r\n            description: \"Манчкин 2 Дикий Топор. Ещё разрушительнее, ещё веселее!\"\r\n\r\n        },\r\n        {\r\n            id: 3,\r\n            img: \"./source/popular/game_img3.jpg\",\r\n            price: 1440,\r\n            old_price: \"1980 ₽\",\r\n            sale: -24,\r\n            description: \"Монополия Рик и Морти. Завяжи Мультивселеннуюв узел\"\r\n        },\r\n        {\r\n            id: 4,\r\n            img: \"./source/popular/game_img4.jpg\",\r\n            price: 1090,\r\n            old_price: 0,\r\n            sale: 0,\r\n            description: \"Зомби в доме. Дом на холме для детей\"\r\n        }\r\n    ]\r\n}\r\n\r\nexport const getItem = (state = stateItem, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\n// Функция для добавления в редюсер\r\nexport const addInCart = (payload) => ({type: ADD_PRODUCT, payload});"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,QAA1B;AAEA,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE;AADO,CAArB,C,CAGA;;AACA,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;;EAC3D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKN,WAAL;MACI,MAAMO,IAAI,GAAGH,KAAK,CAACF,QAAN,CAAeM,IAAf,CAAoBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAjD,CAAb;MACA,OAAO,EACH,GAAGN,KADA;QAEHF,QAAQ,EAAEK,IAAI,GACRH,KAAK,CAACF,QAAN,CAAeU,GAAf,CAAmBH,CAAC,IAAIA,CAAC,KAAKF,IAAN,GAAa,EAAC,GAAGE,CAAJ;UAAOI,KAAK,EAAEJ,CAAC,CAACI,KAAF,GAAU,CAAxB;UAA2BC,KAAK,EAAEL,CAAC,CAACK,KAAF,GAAUL,CAAC,CAACI;QAA9C,CAAb,GAAoEJ,CAA5F,CADQ,GAER,CAAC,GAAGL,KAAK,CAACF,QAAV,EAAoB,EAAC,GAAGG,MAAM,CAACM,OAAX;UAAoBE,KAAK,EAAE;QAA3B,CAApB;MAJH,CAAP;;IAMJ;MACI,OAAOT,KAAP;EAVR;;EAWC;AACJ,CAbM,C,CAeP;;AACA,MAAMW,SAAS,GAAG;EACdC,KAAK,EAAE,CACH;IACIN,EAAE,EAAE,CADR;IAEIO,GAAG,EAAE,gCAFT;IAGIH,KAAK,EAAE,IAHX;IAIII,SAAS,EAAE,QAJf;IAKIC,IAAI,EAAE,CAAC,EALX;IAMIC,WAAW,EAAE;EANjB,CADG,EASH;IACIV,EAAE,EAAE,CADR;IAEIO,GAAG,EAAE,gCAFT;IAGIH,KAAK,EAAE,GAHX;IAIII,SAAS,EAAE,CAJf;IAKIC,IAAI,EAAE,CALV;IAMIC,WAAW,EAAE;EANjB,CATG,EAkBH;IACIV,EAAE,EAAE,CADR;IAEIO,GAAG,EAAE,gCAFT;IAGIH,KAAK,EAAE,IAHX;IAIII,SAAS,EAAE,QAJf;IAKIC,IAAI,EAAE,CAAC,EALX;IAMIC,WAAW,EAAE;EANjB,CAlBG,EA0BH;IACIV,EAAE,EAAE,CADR;IAEIO,GAAG,EAAE,gCAFT;IAGIH,KAAK,EAAE,IAHX;IAIII,SAAS,EAAE,CAJf;IAKIC,IAAI,EAAE,CALV;IAMIC,WAAW,EAAE;EANjB,CA1BG;AADO,CAAlB;AAsCA,OAAO,MAAMC,OAAO,GAAG,YAA+B;EAAA,IAA9BjB,KAA8B,uEAAtBW,SAAsB;EAAA,IAAXV,MAAW;;EAClD,QAAQA,MAAM,CAACC,IAAf;IACI;MACI,OAAOF,KAAP;EAFR;AAIH,CALM,C,CAOP;;AACA,OAAO,MAAMkB,SAAS,GAAIX,OAAD,KAAc;EAACL,IAAI,EAAEN,WAAP;EAAoBW;AAApB,CAAd,CAAlB"},"metadata":{},"sourceType":"module"}