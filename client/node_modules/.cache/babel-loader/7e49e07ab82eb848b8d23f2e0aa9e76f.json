{"ast":null,"code":"import { ADD_COUNT, ADD_ID, ADD_PRODUCT } from \"./case\";\nconst defaultState = {\n  products: [],\n  count: 1,\n  id: []\n}; // Редюсер для добавления товара в корзину\n\nexport const inCartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    // case ADD_PRODUCT:\n    //   return {...state, products: [...state.products, action.payload]};\n    case ADD_PRODUCT:\n      const item = state.products.find(n => n.id === action.payload.id);\n      return { ...state,\n        products: item ? state.products.map(n => n === item ? { ...n,\n          count: n.count + 1\n        } : n) : [...state.products, { ...action.payload,\n          count: 1\n        }]\n      };\n\n    case ADD_ID:\n      return { ...state,\n        id: [...state.id, action.payload]\n      };\n\n    default:\n      return state;\n  }\n\n  ;\n};\nexport const countReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_COUNT:\n      return { ...state,\n        count: action.payload\n      };\n\n    default:\n      return state;\n  }\n}; // Функция для добавления в редюсер\n\nexport const addInCart = payload => ({\n  type: ADD_PRODUCT,\n  payload\n});\nexport const addCount = payload => ({\n  type: ADD_COUNT,\n  payload\n});\nexport const addId = payload => ({\n  type: ADD_ID,\n  payload\n});","map":{"version":3,"names":["ADD_COUNT","ADD_ID","ADD_PRODUCT","defaultState","products","count","id","inCartReducer","state","action","type","item","find","n","payload","map","countReducer","addInCart","addCount","addId"],"sources":["C:/Work/React/gtable/src/store/inCart.js"],"sourcesContent":["import {ADD_COUNT, ADD_ID, ADD_PRODUCT} from \"./case\";\r\n\r\nconst defaultState = {\r\n    products: [],\r\n    count: 1,\r\n    id: []\r\n}\r\n// Редюсер для добавления товара в корзину\r\nexport const inCartReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n       // case ADD_PRODUCT:\r\n         //   return {...state, products: [...state.products, action.payload]};\r\n        case ADD_PRODUCT:\r\n            const item = state.products.find(n => n.id === action.payload.id);\r\n            return {\r\n                ...state,\r\n                products: item\r\n                    ? state.products.map(n => n === item ? { ...n, count: n.count + 1 } : n)\r\n                    : [ ...state.products, { ...action.payload, count: 1 } ],\r\n            };\r\n        case ADD_ID:\r\n            return {...state, id: [...state.id, action.payload]}\r\n        default:\r\n            return state\r\n    };\r\n};\r\n\r\nexport const countReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case ADD_COUNT:\r\n            return {...state, count: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n};\r\n// Функция для добавления в редюсер\r\nexport const addInCart = (payload) => ({type: ADD_PRODUCT, payload});\r\nexport const addCount = (payload) => ({type: ADD_COUNT, payload});\r\nexport const addId = (payload) => ({type: ADD_ID, payload});"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,MAAnB,EAA2BC,WAA3B,QAA6C,QAA7C;AAEA,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EADO;EAEjBC,KAAK,EAAE,CAFU;EAGjBC,EAAE,EAAE;AAHa,CAArB,C,CAKA;;AACA,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EAC3D,QAAQA,MAAM,CAACC,IAAf;IACG;IACE;IACD,KAAKR,WAAL;MACI,MAAMS,IAAI,GAAGH,KAAK,CAACJ,QAAN,CAAeQ,IAAf,CAAoBC,CAAC,IAAIA,CAAC,CAACP,EAAF,KAASG,MAAM,CAACK,OAAP,CAAeR,EAAjD,CAAb;MACA,OAAO,EACH,GAAGE,KADA;QAEHJ,QAAQ,EAAEO,IAAI,GACRH,KAAK,CAACJ,QAAN,CAAeW,GAAf,CAAmBF,CAAC,IAAIA,CAAC,KAAKF,IAAN,GAAa,EAAE,GAAGE,CAAL;UAAQR,KAAK,EAAEQ,CAAC,CAACR,KAAF,GAAU;QAAzB,CAAb,GAA4CQ,CAApE,CADQ,GAER,CAAE,GAAGL,KAAK,CAACJ,QAAX,EAAqB,EAAE,GAAGK,MAAM,CAACK,OAAZ;UAAqBT,KAAK,EAAE;QAA5B,CAArB;MAJH,CAAP;;IAMJ,KAAKJ,MAAL;MACI,OAAO,EAAC,GAAGO,KAAJ;QAAWF,EAAE,EAAE,CAAC,GAAGE,KAAK,CAACF,EAAV,EAAcG,MAAM,CAACK,OAArB;MAAf,CAAP;;IACJ;MACI,OAAON,KAAP;EAdR;;EAeC;AACJ,CAjBM;AAmBP,OAAO,MAAMQ,YAAY,GAAG,YAAkC;EAAA,IAAjCR,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EAC1D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKV,SAAL;MACI,OAAO,EAAC,GAAGQ,KAAJ;QAAWH,KAAK,EAAEI,MAAM,CAACK;MAAzB,CAAP;;IACJ;MACI,OAAON,KAAP;EAJR;AAMH,CAPM,C,CAQP;;AACA,OAAO,MAAMS,SAAS,GAAIH,OAAD,KAAc;EAACJ,IAAI,EAAER,WAAP;EAAoBY;AAApB,CAAd,CAAlB;AACP,OAAO,MAAMI,QAAQ,GAAIJ,OAAD,KAAc;EAACJ,IAAI,EAAEV,SAAP;EAAkBc;AAAlB,CAAd,CAAjB;AACP,OAAO,MAAMK,KAAK,GAAIL,OAAD,KAAc;EAACJ,IAAI,EAAET,MAAP;EAAea;AAAf,CAAd,CAAd"},"metadata":{},"sourceType":"module"}