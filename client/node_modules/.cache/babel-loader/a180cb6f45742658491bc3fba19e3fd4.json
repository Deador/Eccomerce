{"ast":null,"code":"var _jsxFileName = \"C:\\\\Work\\\\React\\\\gtable\\\\client\\\\src\\\\components\\\\user\\\\card\\\\Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classes from \"./Card.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport Button from \"../../basic/UI/button/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = _ref => {\n  _s();\n\n  let {\n    props,\n    product\n  } = _ref;\n  const navigate = useNavigate();\n  const IMG = `http://localhost:5000/${props.img}`;\n  const [active, setActive] = useState(false);\n  const cart = useSelector(state => state.inCart.products);\n  const [c, setC] = useState(3);\n\n  const addProduct = e => {\n    e.stopPropagation();\n    product({ ...props,\n      count: c\n    });\n    setActive(true);\n  };\n\n  const redirectInCart = e => {\n    e.stopPropagation();\n    return navigate(\"/cart\");\n  };\n\n  const incr = () => {\n    setC(c + 1);\n  }; // useEffect(() => {\n  //     if (card.length > 0) {\n  //         let array = card.filter(i => i.id !== props.id);\n  //         if (array) {\n  //             setActive(true)\n  //         }\n  //     } else {\n  //         setActive(false)\n  //     }\n  // }, [card]);\n\n\n  console.log(cart);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.card_item,\n    onClick: () => navigate(`/products/${props.id}`),\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      onClick: incr,\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: IMG,\n      alt: \"Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), props.sale !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.sale,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.number_sale,\n        children: [\"-\", props.sale, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 47\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.card_text_container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"price_text\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.price_card,\n          children: [props.price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }, this), props.old_price !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.sale_card,\n          children: [props.old_price, \" \\u20BD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.card_description,\n        children: props.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bottom_nav,\n      children: [active ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes.active,\n        onClick: redirectInCart,\n        children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes.btn_cart,\n        onClick: addProduct,\n        children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"20\",\n        height: \"20\",\n        viewBox: \"0 0 20 20\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M14.584 2.5C12.2923 2.5 11.0382 3.6975 10.0007 4.75C8.96315 3.6975 7.70898 2.5 5.41732 2.5C2.36148 2.5 0.833984 5.05917 0.833984 7.75C0.833984 12.2808 6.18148 16 10.0007 17.5C13.8198 16 19.1673 12.2808 19.1673 7.75C19.1673 5.05917 17.6398 2.5 14.584 2.5Z\",\n          stroke: \"#7D26DC\",\n          strokeWidth: \"1.5\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Card, \"y49d/TJn+Z4xCBn6nXISPf6SsrY=\", false, function () {\n  return [useNavigate, useSelector];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useState","classes","useNavigate","useSelector","Button","Card","props","product","navigate","IMG","img","active","setActive","cart","state","inCart","products","c","setC","addProduct","e","stopPropagation","count","redirectInCart","incr","console","log","card_item","id","sale","number_sale","card_text_container","price_card","price","old_price","sale_card","card_description","name","bottom_nav","btn_cart"],"sources":["C:/Work/React/gtable/client/src/components/user/card/Card.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport classes from \"./Card.module.css\"\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport Button from \"../../basic/UI/button/Button\";\r\n\r\nconst Card = ({props, product}) => {\r\n    const navigate = useNavigate();\r\n    const IMG = `http://localhost:5000/${props.img}`;\r\n    const [active, setActive] = useState(false);\r\n\r\n    const cart = useSelector(state => state.inCart.products);\r\n    const [c, setC]=useState(3)\r\n\r\n    const addProduct = (e) => {\r\n        e.stopPropagation();\r\n        product(\r\n            {\r\n                ...props, count: c\r\n            });\r\n        setActive(true);\r\n    };\r\n\r\n    const redirectInCart = (e) => {\r\n        e.stopPropagation();\r\n        return navigate(\"/cart\")\r\n    };\r\n\r\n    const incr=()=>{\r\n        setC(c+1)\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     if (card.length > 0) {\r\n    //         let array = card.filter(i => i.id !== props.id);\r\n    //         if (array) {\r\n    //             setActive(true)\r\n    //         }\r\n    //     } else {\r\n    //         setActive(false)\r\n    //     }\r\n    // }, [card]);\r\n\r\n    console.log(cart)\r\n\r\n\r\n    return (\r\n        <div className={classes.card_item} onClick={() => navigate(`/products/${props.id}`)}>\r\n            <Button onClick={incr}>+</Button>\r\n            <img\r\n                src={IMG}\r\n                alt=\"Image\"\r\n            />\r\n            {props.sale !== 0 &&\r\n                <div className={classes.sale}><span className={classes.number_sale}>-{props.sale}%</span></div>}\r\n            <div className={classes.card_text_container}>\r\n                <div className=\"price_text\">\r\n                  <span className={classes.price_card}>{props.price} ₽</span\r\n                  >{props.old_price !== 0 && <span className={classes.sale_card}>{props.old_price} ₽</span>}\r\n                </div>\r\n                <div className={classes.card_description}>\r\n                    {props.name}\r\n                </div>\r\n            </div>\r\n            <div className={classes.bottom_nav}>\r\n                {active ? <button className={classes.active} onClick={redirectInCart}>В корзине</button> :\r\n                    <button className={classes.btn_cart} onClick={addProduct}>В корзину</button>}\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n                          d=\"M14.584 2.5C12.2923 2.5 11.0382 3.6975 10.0007 4.75C8.96315 3.6975 7.70898 2.5 5.41732 2.5C2.36148 2.5 0.833984 5.05917 0.833984 7.75C0.833984 12.2808 6.18148 16 10.0007 17.5C13.8198 16 19.1673 12.2808 19.1673 7.75C19.1673 5.05917 17.6398 2.5 14.584 2.5Z\"\r\n                          stroke=\"#7D26DC\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module"}