import React, {useState} from 'react';
import classes from "./two_lvl.module.css"
import ModaleCart from "../../modale_cart/ModaleCart";
import {useSelector} from "react-redux";
import Chip from "../chip/Chip";
import {Link} from "react-router-dom";

const TwoLvl = ({setSearch}) => {
    const cart = useSelector(state => state.inCart.products);

    // Наведение на иконку корзина открывает корзину
    const [mouse, setMouse] = useState(false);
    const onMouseEnter = () => {
        setMouse(true);
    };
    const onMouseLeave = () => {
        setMouse(false);
    };

    return (
        <div className={classes.header_row}>
            {/*{<!-- Btn catalog search -->}*/}
            <div className={classes.left_nav_element_two}>
                <div className={classes.btn_catalog}>
                    <hr className={classes.line}/>
                    <hr className={classes.line}/>
                    <hr className={classes.line}/>
                </div>
                <Link to="/" className={classes.logo}>
                    <svg width="162" height="18" viewBox="0 0 162 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M49.9413 9.0006C49.9413 5.00801 53.2934 1.69948 57.847 0.457027C61.803 -0.491803 65.9962 0.0490978 69.535 1.96472L67.7106 5.00802C64.0025 3.29093 59.7456 3.4724 57.3279 4.86841C56.5474 5.29566 55.898 5.90611 55.443 6.64015C54.9881 7.37418 54.7432 8.20671 54.7322 9.05644C54.7322 11.9462 57.6987 14.1519 61.3623 14.3054C63.5986 14.456 65.8313 13.9695 67.7699 12.9094L69.4757 16.1342C67.0251 17.4918 64.201 18.1333 61.3623 17.977C55.0585 17.977 49.9413 13.9425 49.9413 9.0006ZM36.4874 0.0244012C30.1836 0.0244012 25.0664 4.0449 25.0664 9.00073C25.0664 13.9566 30.1836 17.9492 36.4874 17.9492C42.7912 17.9492 47.8936 13.9147 47.8936 8.97282C47.8936 4.03094 42.7764 0.0244012 36.4874 0.0244012ZM36.4874 14.2497C32.8238 14.2497 29.8573 11.8905 29.8573 9.00073C29.8573 6.11099 32.8238 3.75175 36.4874 3.75175C40.151 3.75175 43.1027 6.09703 43.1027 9.00073C43.1027 11.9044 40.1362 14.2497 36.4874 14.2497ZM72.2045 0.931709V17.9211L88.7575 7.78612V17.0137H93.4891V0.0801424L76.9805 10.1733V0.931709H72.2045ZM22.8272 17.0137V0.107983L11.4507 7.91167L11.3617 7.85583L0 0.0940199V17.0137H4.77605V8.24672L11.421 12.714L18.0659 8.24672V17.0137H22.8272ZM96.3069 0.931872H115.723V4.4917H101.083V17.0139H96.3069V0.931872ZM138.61 6.6695C138.635 5.89431 138.487 5.12289 138.177 4.40437C137.867 3.68586 137.401 3.03601 136.809 2.49623C136.218 1.95646 135.513 1.53859 134.74 1.26926C133.968 0.999929 133.144 0.885036 132.321 0.931901H117.281V17.0139H122.057V12.3652H132.321C133.14 12.4117 133.96 12.298 134.73 12.0312C135.499 11.7643 136.202 11.3502 136.793 10.815C137.384 10.2798 137.85 9.63508 138.163 8.92156C138.476 8.20804 138.628 7.44122 138.61 6.6695ZM122.057 8.90312V4.44985H130.957C132.87 4.44985 133.79 5.13389 133.79 6.55782C133.792 6.89078 133.719 7.22042 133.576 7.52483C133.433 7.82924 133.222 8.10143 132.958 8.32329C132.695 8.54516 132.384 8.71162 132.046 8.81159C131.709 8.91157 131.353 8.94276 131.001 8.90312H122.057ZM156.155 17.0278L154.672 15.1572H142.391L140.908 17.0278H135.227L148.65 0.275699L161.999 17.0278H156.155ZM152.329 12.058L148.502 6.94863L144.645 12.058H152.329Z"
                              fill="#D21530"/>
                    </svg>
                </Link>


                <input type="search" className={classes.search} placeholder="Я ищу…"
                       onChange={(e) => setSearch(e.target.value)}/>
            </div>

            {/*{ <!-- Icons nav -->}*/}
            <div className={classes.right_nav_element_two}>
                <Link to="/" className={classes.item_nav}>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M14.584 2.5C12.2923 2.5 11.0382 3.6975 10.0007 4.75C8.96315 3.6975 7.70898 2.5 5.41732 2.5C2.36148 2.5 0.833984 5.05917 0.833984 7.75C0.833984 12.2808 6.18148 16 10.0007 17.5C13.8198 16 19.1673 12.2808 19.1673 7.75C19.1673 5.05917 17.6398 2.5 14.584 2.5Z"
                              stroke="#222529" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div className={classes.text_icon}>Избранное</div>
                </Link>
                <Link className={classes.item_nav}>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M10.0007 9.16659C12.3007 9.16659 14.1673 7.30075 14.1673 4.99992C14.1673 2.69909 12.3007 0.833252 10.0007 0.833252C7.70065 0.833252 5.83398 2.69909 5.83398 4.99992C5.83398 7.30075 7.70065 9.16659 10.0007 9.16659Z"
                              stroke="#222529" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M17.5 19V16.875C17.5 14.4675 14.125 12.5 10 12.5C5.875 12.5 2.5 14.4675 2.5 16.875V19"
                              stroke="#222529" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <div className={classes.text_icon}>Войти</div>
                </Link>
                <div onMouseEnter={onMouseEnter}
                      onMouseLeave={onMouseLeave}>
                    <div className={classes.item_nav}>
                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd"
                                  d="M0.849609 1.6001C0.849609 1.18588 1.1854 0.850098 1.59961 0.850098H3.26628C3.58324 0.850098 3.86598 1.04935 3.97258 1.34785L7.74405 11.9081L7.74412 11.9083C7.87511 12.2739 8.22035 12.5168 8.60711 12.5168H16.1929C16.5925 12.5168 16.9445 12.2592 17.0661 11.8796L18.5634 5.68343H7.03794C6.62373 5.68343 6.28794 5.34764 6.28794 4.93343C6.28794 4.51922 6.62373 4.18343 7.03794 4.18343H19.5163C19.7462 4.18343 19.9634 4.28889 20.1056 4.46955C20.2478 4.65021 20.2993 4.88612 20.2453 5.10961L18.5186 12.2546C18.5154 12.2678 18.5119 12.2809 18.508 12.2939C18.2012 13.3169 17.261 14.0168 16.1929 14.0168H8.60711C7.5856 14.0168 6.6759 13.3747 6.33184 12.4137L6.33164 12.4132L2.73773 2.3501H1.59961C1.1854 2.3501 0.849609 2.01431 0.849609 1.6001ZM9.10026 17.3501C8.59447 17.3501 8.18359 17.761 8.18359 18.2668C8.18359 18.7725 8.59447 19.1834 9.10026 19.1834C9.60605 19.1834 10.0169 18.7725 10.0169 18.2668C10.0169 17.761 9.60605 17.3501 9.10026 17.3501ZM6.68359 18.2668C6.68359 16.9326 7.76605 15.8501 9.10026 15.8501C10.4345 15.8501 11.5169 16.9326 11.5169 18.2668C11.5169 19.601 10.4345 20.6834 9.10026 20.6834C7.76605 20.6834 6.68359 19.601 6.68359 18.2668ZM14.8496 18.2668C14.8496 17.761 15.2605 17.3501 15.7663 17.3501C16.2721 17.3501 16.6829 17.761 16.6829 18.2668C16.6829 18.7725 16.2721 19.1834 15.7663 19.1834C15.2605 19.1834 14.8496 18.7725 14.8496 18.2668ZM15.7663 15.8501C14.4321 15.8501 13.3496 16.9325 13.3496 18.2668C13.3496 19.601 14.4321 20.6834 15.7663 20.6834C17.1005 20.6834 18.1829 19.601 18.1829 18.2668C18.1829 16.9325 17.1005 15.8501 15.7663 15.8501Z"
                                  fill="#222529"/>
                        </svg>
                        <div className={classes.text_icon}>Корзина</div>
                    </div>
                    {cart.length > 0 && <Chip count={cart.length}/>}
                    {mouse && <ModaleCart/>}
                </div>
            </div>
        </div>

    );
};

export default TwoLvl;